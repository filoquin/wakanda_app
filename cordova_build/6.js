(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{fAJX:function(t,e,r){"use strict";r.r(e),r.d(e,"routes",(function(){return h})),r.d(e,"OrdersModule",(function(){return x}));var o=r("ofXK"),n=r("fXoL");let c=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=n.Cb({type:t,selectors:[["app-order-list"]],decls:5,vars:0,consts:[[1,"container","h-100"],[1,"row","h-100","justify-content-center","align-items-center"],[1,"col-12","text-center"]],template:function(t,e){1&t&&(n.Lb(0,"div",0),n.Lb(1,"div",1),n.Lb(2,"div",2),n.Lb(3,"h6"),n.lc(4,"Pedidos en desarrollo...."),n.Kb(),n.Kb(),n.Kb(),n.Kb())},styles:[""]}),t})();var i=r("tyNb"),s=r("IKdg");function d(t,e){if(1&t&&(n.Lb(0,"div",19),n.Lb(1,"div",20),n.lc(2),n.Kb(),n.Lb(3,"div",9),n.lc(4),n.Kb(),n.Lb(5,"div",21),n.lc(6),n.Vb(7,"currency"),n.Kb(),n.Kb()),2&t){const t=e.$implicit;n.cc("ngClass","row  ",e.odd?"odd":"even",""),n.xb(2),n.nc(" ",t.qty_select," "),n.xb(2),n.nc(" ",t.name," "),n.xb(2),n.nc(" ",n.Wb(7,4,t.user_price)," ")}}function b(t,e){if(1&t&&(n.Lb(0,"div",17),n.kc(1,d,8,6,"div",18),n.Kb()),2&t){const t=e.$implicit;n.xb(1),n.ac("ngForOf",t.productsSelected)}}function l(t,e){if(1&t&&(n.Lb(0,"div",12),n.Lb(1,"div",2),n.Lb(2,"div",13),n.lc(3," Cantidad "),n.Kb(),n.Lb(4,"div",14),n.lc(5," Producto "),n.Kb(),n.Lb(6,"div",15),n.lc(7," Precio "),n.Kb(),n.Kb(),n.kc(8,b,2,1,"div",16),n.Kb()),2&t){const t=n.Ub();n.xb(8),n.ac("ngForOf",t.order)}}function a(t,e){if(1&t){const t=n.Mb();n.Lb(0,"div",12),n.Lb(1,"div",13),n.lc(2),n.Kb(),n.Lb(3,"div",14),n.Lb(4,"a",15),n.Sb("click",(function(){n.gc(t);const r=e.$implicit;return n.Ub(2).selectPromo(r.id)})),n.lc(5,"Elegir"),n.Kb(),n.Kb(),n.Kb()}if(2&t){const t=e.$implicit,r=n.Ub(2);n.cc("ngClass","row  ",r.odd?"odd":"even",""),n.xb(2),n.oc(" ",t.product_id[1]," (",t.product_qty,") ")}}function u(t,e){if(1&t&&(n.Lb(0,"div",8),n.Lb(1,"div",2),n.Lb(2,"div",9),n.Lb(3,"strong"),n.lc(4," \xa1Tenes Promos> dis\u1e55onibles con tu pedido!"),n.Kb(),n.Kb(),n.Kb(),n.Lb(5,"div",10),n.kc(6,a,6,3,"div",11),n.Kb(),n.Kb()),2&t){const t=n.Ub();n.xb(6),n.ac("ngForOf",t.promos)}}function f(t,e){if(1&t){const t=n.Mb();n.Lb(0,"div",12),n.Lb(1,"div",13),n.lc(2),n.Kb(),n.Lb(3,"div",14),n.lc(4),n.Vb(5,"currency"),n.Kb(),n.Lb(6,"div",15),n.Lb(7,"a",16),n.Sb("click",(function(){n.gc(t);const r=e.$implicit;return n.Ub(2).selectCarrier(r)})),n.lc(8,"Elegir"),n.Kb(),n.Kb(),n.Kb()}if(2&t){const t=e.$implicit,r=n.Ub(2);n.cc("ngClass","row  ",r.odd?"odd":"even",""),n.xb(2),n.nc(" ",t.display_name," "),n.xb(2),n.nc(" ",n.Wb(5,3,t.amount)," ")}}function p(t,e){if(1&t&&(n.Lb(0,"div",8),n.Lb(1,"div",2),n.Lb(2,"div",9),n.Lb(3,"strong"),n.lc(4,"Eleg\xed como recibir tu producto."),n.Kb(),n.Kb(),n.Kb(),n.Lb(5,"div",10),n.kc(6,f,9,5,"div",11),n.Kb(),n.Kb()),2&t){const t=n.Ub();n.xb(6),n.ac("ngForOf",t.carriers)}}function m(t,e){if(1&t&&(n.Lb(0,"div",13),n.Lb(1,"div",14),n.lc(2),n.Kb(),n.Lb(3,"div",15),n.lc(4),n.Kb(),n.Lb(5,"div",16),n.lc(6),n.Vb(7,"currency"),n.Kb(),n.Kb()),2&t){const t=e.$implicit;n.cc("ngClass","row  ",e.odd?"odd":"even",""),n.xb(2),n.nc(" ",t.product_uom_qty," "),n.xb(2),n.nc(" ",t.name," "),n.xb(2),n.nc(" ",n.Wb(7,4,t.price_total)," ")}}function g(t,e){if(1&t&&(n.Lb(0,"div"),n.kc(1,m,8,6,"div",12),n.Kb()),2&t){const t=n.Ub(2);n.xb(1),n.ac("ngForOf",t.orderLines)}}function v(t,e){if(1&t&&(n.Lb(0,"div",9),n.Lb(1,"div",2),n.Lb(2,"div",7),n.Lb(3,"strong"),n.lc(4),n.Kb(),n.Kb(),n.Kb(),n.Lb(5,"div",2),n.Lb(6,"div",10),n.lc(7),n.Vb(8,"date"),n.Kb(),n.Lb(9,"div",10),n.lc(10),n.Vb(11,"currency"),n.Kb(),n.Kb(),n.kc(12,g,2,1,"div",11),n.Kb()),2&t){const t=n.Ub();n.xb(4),n.nc("Tu orden de pedido tiene el numero ",t.order.display_name,""),n.xb(3),n.nc(" Fecha: ",n.Xb(8,4,t.order.date_order,"dd/MM/yyyy")," "),n.xb(3),n.nc(" Total ",n.Wb(11,7,t.order.amount_total)," "),n.xb(2),n.ac("ngIf",t.orderLines)}}const h=[{path:"",component:c},{path:"summary",component:(()=>{class t{constructor(t,e){this.saleOrderService=t,this.router=e,this.order=null,this.total=0,this.lines=[],this.order=JSON.parse(localStorage.getItem("tmpOrder")),this.order.forEach(t=>{t.productsSelected.forEach(t=>{this.lines.push({id:t.id,qty:t.qty_select}),this.total+=t.qty_select*t.user_price})})}ngOnInit(){}saveOrder(){this.saleOrderService.createSaleOrder(this.lines).then(t=>{if(console.log(t),t){let e=t[0].id;this.router.navigate(t[0].show_promos?["/orders/promos/"+e]:["/orders/delivery/"+e]),localStorage.removeItem("tmpOrder")}}).catch(t=>{console.log(t)})}}return t.\u0275fac=function(e){return new(e||t)(n.Ib(s.a),n.Ib(i.c))},t.\u0275cmp=n.Cb({type:t,selectors:[["app-order-sumary"]],decls:19,vars:4,consts:[[1,"fill","container-main"],[1,"container","pt-1","text-center"],[1,"row"],[1,"col-9","mx-auto"],[1,"product-title","m-2","text-uppercase","text-white"],["class","summary",4,"ngIf"],[1,"col-6"],[1,"col-6","text-right"],[1,"row","order-actions","mx-auto","w-100"],[1,"col-6","text-left"],["routerLink","/products",1,"btn","btn-wkn","btn-sm","text-uppercase","pull-left"],[1,"btn","btn-wkn","btn-sm","text-uppercase","pull-right",3,"click"],[1,"summary"],[1,"col-2","text-center"],[1,"col-6","text-center"],[1,"col-4","text-center"],["class","",4,"ngFor","ngForOf"],[1,""],[3,"ngClass",4,"ngFor","ngForOf"],[3,"ngClass"],[1,"col-2","text-right"],[1,"col-4","text-right"]],template:function(t,e){1&t&&(n.Lb(0,"div",0),n.Lb(1,"div",1),n.Lb(2,"div",2),n.Lb(3,"div",3),n.Lb(4,"h5",4),n.lc(5,"Resumen del pedido"),n.Kb(),n.Kb(),n.Kb(),n.kc(6,l,9,1,"div",5),n.Kb(),n.Kb(),n.Lb(7,"div",2),n.Jb(8,"div",6),n.Lb(9,"div",7),n.lc(10),n.Vb(11,"currency"),n.Kb(),n.Kb(),n.Lb(12,"div",8),n.Lb(13,"div",9),n.Lb(14,"a",10),n.lc(15," volver"),n.Kb(),n.Kb(),n.Lb(16,"div",7),n.Lb(17,"a",11),n.Sb("click",(function(){return e.saveOrder()})),n.lc(18,"siguiente"),n.Kb(),n.Kb(),n.Kb()),2&t&&(n.xb(6),n.ac("ngIf",e.order),n.xb(4),n.nc(" Total : ",n.Wb(11,2,e.total)," "))},directives:[o.l,i.d,o.k,o.j],pipes:[o.c],styles:[".order-actions[_ngcontent-%COMP%]{position:fixed;bottom:65px}.container-main[_ngcontent-%COMP%]{background-color:#ffd3f2!important}.btn-product[_ngcontent-%COMP%]{background-color:#ff5dbc;color:#fff}.product-title[_ngcontent-%COMP%]{background-color:#ff5dbc;font-family:AronGrotesque-Regular;font-size:1.25em;border-radius:5px}.summary[_ngcontent-%COMP%]{padding:5px;background-color:#ff99d6;border-radius:15px;margin-bottom:60px;color:#fff;bottom:0;left:0;right:0;font-size:.9em}.odd[_ngcontent-%COMP%]{color:#eee}"]}),t})()},{path:"promos/:id",component:(()=>{class t{constructor(t,e,r){this.actRoute=t,this.saleOrderService=e,this.router=r,this.promos=[]}ngOnInit(){this.orderId=Number(this.actRoute.snapshot.paramMap.get("id")),this.loadPromos(this.orderId)}loadPromos(t){this.saleOrderService.getPromos(t).then(t=>{0==t.length&&this.router.navigate(["/orders/delivery/"+this.orderId]),this.promos=t}).catch(t=>{console.log("errors"+t)})}selectPromo(t){this.saleOrderService.selectPromo(t).then(t=>{0==t.length&&this.router.navigate(["/orders/delivery/"+this.orderId]),this.promos=t,console.log(this.promos)}).catch(t=>{console.log("errors"+t)})}}return t.\u0275fac=function(e){return new(e||t)(n.Ib(i.a),n.Ib(s.a),n.Ib(i.c))},t.\u0275cmp=n.Cb({type:t,selectors:[["app-order-promos"]],decls:10,vars:1,consts:[[1,"fill","container-main"],[1,"container","pt-1","text-center"],[1,"row"],[1,"col-9","mx-auto"],[1,"product-title","m-2","text-uppercase","text-white"],["class","summary",4,"ngIf"],[1,"col-6"],[1,"row","order-actions","mx-auto","w-100"],[1,"summary"],[1,"col-12","text-center"],[1,""],[3,"ngClass",4,"ngFor","ngForOf"],[3,"ngClass"],[1,"col-8","text-left"],[1,"col-4","text-center"],[1,"btn","btn-wkn","btn-sm","text-uppercase","pull-right",3,"click"]],template:function(t,e){1&t&&(n.Lb(0,"div",0),n.Lb(1,"div",1),n.Lb(2,"div",2),n.Lb(3,"div",3),n.Lb(4,"h5",4),n.lc(5,"Promociones"),n.Kb(),n.Kb(),n.Kb(),n.kc(6,u,7,1,"div",5),n.Kb(),n.Lb(7,"div",2),n.Jb(8,"div",6),n.Kb(),n.Jb(9,"div",7),n.Kb()),2&t&&(n.xb(6),n.ac("ngIf",e.promos))},directives:[o.l,o.k,o.j],styles:[".order-actions[_ngcontent-%COMP%]{position:fixed;bottom:65px}.container-main[_ngcontent-%COMP%]{background-color:#ffd3f2!important}.btn-product[_ngcontent-%COMP%]{background-color:#ff5dbc;color:#fff}.product-title[_ngcontent-%COMP%]{background-color:#ff5dbc;font-family:AronGrotesque-Regular;font-size:1.25em;border-radius:5px}.summary[_ngcontent-%COMP%]{padding:5px;background-color:#ff99d6;border-radius:15px;margin-bottom:60px;color:#fff;bottom:0;left:0;right:0;font-size:.9em}.odd[_ngcontent-%COMP%]{color:#eee}"]}),t})()},{path:"delivery/:id",component:(()=>{class t{constructor(t,e,r){this.actRoute=t,this.saleOrderService=e,this.router=r,this.carriers=[]}ngOnInit(){this.orderId=Number(this.actRoute.snapshot.paramMap.get("id")),this.getCarriers(this.orderId)}getCarriers(t){this.saleOrderService.getCarriers(t).then(t=>{console.log(t),this.carriers=t}).catch(t=>{console.log("errors"+t)})}selectCarrier(t){this.saleOrderService.deliveryConfirm(this.orderId,t.id,t.amount).then(t=>{this.router.navigate(["/orders/confirm/"+this.orderId])}).catch(t=>{console.log("errors"+t)})}}return t.\u0275fac=function(e){return new(e||t)(n.Ib(i.a),n.Ib(s.a),n.Ib(i.c))},t.\u0275cmp=n.Cb({type:t,selectors:[["app-order-delivery"]],decls:10,vars:1,consts:[[1,"fill","container-main"],[1,"container","pt-1","text-center"],[1,"row"],[1,"col-9","mx-auto"],[1,"product-title","m-2","text-uppercase","text-white"],["class","summary",4,"ngIf"],[1,"col-6"],[1,"row","order-actions","mx-auto","w-100"],[1,"summary"],[1,"col-12","text-center"],[1,""],[3,"ngClass",4,"ngFor","ngForOf"],[3,"ngClass"],[1,"col-6","text-right"],[1,"col-2","text-right"],[1,"col-4","text-center"],[1,"btn","btn-wkn","btn-sm","text-uppercase","pull-right",3,"click"]],template:function(t,e){1&t&&(n.Lb(0,"div",0),n.Lb(1,"div",1),n.Lb(2,"div",2),n.Lb(3,"div",3),n.Lb(4,"h5",4),n.lc(5,"Envio"),n.Kb(),n.Kb(),n.Kb(),n.kc(6,p,7,1,"div",5),n.Kb(),n.Lb(7,"div",2),n.Jb(8,"div",6),n.Kb(),n.Jb(9,"div",7),n.Kb()),2&t&&(n.xb(6),n.ac("ngIf",e.carriers))},directives:[o.l,o.k,o.j],pipes:[o.c],styles:[".order-actions[_ngcontent-%COMP%]{position:fixed;bottom:65px}.container-main[_ngcontent-%COMP%]{background-color:#ffd3f2!important}.btn-product[_ngcontent-%COMP%]{background-color:#ff5dbc;color:#fff}.product-title[_ngcontent-%COMP%]{background-color:#ff5dbc;font-family:AronGrotesque-Regular;font-size:1.25em;border-radius:5px}.summary[_ngcontent-%COMP%]{padding:5px;background-color:#ff99d6;border-radius:15px;margin-bottom:60px;color:#fff;bottom:0;left:0;right:0;font-size:.9em}.odd[_ngcontent-%COMP%]{color:#eee}"]}),t})()},{path:"confirm/:id",component:(()=>{class t{constructor(t,e,r){this.actRoute=t,this.saleOrderService=e,this.router=r}ngOnInit(){this.orderId=Number(this.actRoute.snapshot.paramMap.get("id")),this.getOrder(this.orderId)}getOrder(t){this.saleOrderService.getOrder(t).then(t=>{this.order=t[0]}).catch(t=>{console.log("errors"+t)}),this.saleOrderService.getOrderLines(t).then(t=>{this.orderLines=t.records}).catch(t=>{console.log("errors"+t)})}}return t.\u0275fac=function(e){return new(e||t)(n.Ib(i.a),n.Ib(s.a),n.Ib(i.c))},t.\u0275cmp=n.Cb({type:t,selectors:[["app-order-confirm"]],decls:11,vars:1,consts:[[1,"fill","container-main"],[1,"container","pt-1","text-center"],[1,"row"],[1,"col-9","mx-auto"],[1,"product-title","m-2","text-uppercase","text-white"],["class","summary",4,"ngIf"],[1,"row","order-actions","mx-auto","w-100"],[1,"col-12","text-center"],["routerLink","",1,"btn","btn-wkn","btn-sm","text-uppercase","pull-left"],[1,"summary"],[1,"col-6"],[4,"ngIf"],[3,"ngClass",4,"ngFor","ngForOf"],[3,"ngClass"],[1,"col-2","text-right"],[1,"col-6","text-left"],[1,"col-4","text-right"]],template:function(t,e){1&t&&(n.Lb(0,"div",0),n.Lb(1,"div",1),n.Lb(2,"div",2),n.Lb(3,"div",3),n.Lb(4,"h5",4),n.lc(5,"Orden finalizada"),n.Kb(),n.Kb(),n.Kb(),n.kc(6,v,13,9,"div",5),n.Lb(7,"div",6),n.Lb(8,"div",7),n.Lb(9,"a",8),n.lc(10," Cerrar"),n.Kb(),n.Kb(),n.Kb(),n.Kb(),n.Kb()),2&t&&(n.xb(6),n.ac("ngIf",e.order))},directives:[o.l,i.d,o.k,o.j],pipes:[o.e,o.c],styles:[".order-actions[_ngcontent-%COMP%]{position:fixed;bottom:65px}.container-main[_ngcontent-%COMP%]{background-color:#ffd3f2!important}.btn-product[_ngcontent-%COMP%]{background-color:#ff5dbc;color:#fff}.product-title[_ngcontent-%COMP%]{background-color:#ff5dbc;font-family:AronGrotesque-Regular;font-size:1.25em;border-radius:5px}.summary[_ngcontent-%COMP%]{padding:5px;background-color:#ff99d6;border-radius:15px;margin-bottom:60px;color:#fff;bottom:0;left:0;right:0;font-size:.9em}.odd[_ngcontent-%COMP%]{color:#eee}"]}),t})()}];let x=(()=>{class t{}return t.\u0275mod=n.Gb({type:t}),t.\u0275inj=n.Fb({factory:function(e){return new(e||t)},imports:[[o.b,i.e.forChild(h)]]}),t})()}}]);