(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{fAJX:function(t,e,o){"use strict";o.r(e),o.d(e,"routes",(function(){return h})),o.d(e,"OrdersModule",(function(){return M}));var r=o("ofXK"),c=o("fXoL");let n=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=c.Cb({type:t,selectors:[["app-order-list"]],decls:5,vars:0,consts:[[1,"container","h-100"],[1,"row","h-100","justify-content-center","align-items-center"],[1,"col-12","text-center"]],template:function(t,e){1&t&&(c.Nb(0,"div",0),c.Nb(1,"div",1),c.Nb(2,"div",2),c.Nb(3,"h6"),c.pc(4,"Pedidos en desarrollo...."),c.Mb(),c.Mb(),c.Mb(),c.Mb())},styles:[""]}),t})();var i=o("tyNb"),s=o("IKdg");function d(t,e){if(1&t&&(c.Nb(0,"div",20),c.Nb(1,"div",21),c.pc(2),c.Mb(),c.Nb(3,"div",10),c.pc(4),c.Mb(),c.Nb(5,"div",22),c.pc(6),c.Xb(7,"currency"),c.Mb(),c.Mb()),2&t){const t=e.$implicit;c.ec("ngClass","row  ",e.odd?"odd":"even",""),c.xb(2),c.rc(" ",t.qty_select," "),c.xb(2),c.rc(" ",t.name," "),c.xb(2),c.rc(" ",c.Yb(7,4,t.user_price)," ")}}function b(t,e){if(1&t&&(c.Nb(0,"div",18),c.oc(1,d,8,6,"div",19),c.Mb()),2&t){const t=e.$implicit;c.xb(1),c.cc("ngForOf",t.productsSelected)}}function a(t,e){if(1&t&&(c.Nb(0,"div",13),c.Nb(1,"div",2),c.Nb(2,"div",14),c.pc(3," Cantidad "),c.Mb(),c.Nb(4,"div",15),c.pc(5," Producto "),c.Mb(),c.Nb(6,"div",16),c.pc(7," Precio "),c.Mb(),c.Mb(),c.oc(8,b,2,1,"div",17),c.Mb()),2&t){const t=c.Wb();c.xb(8),c.cc("ngForOf",t.order)}}function l(t,e){if(1&t){const t=c.Ob();c.Nb(0,"div",12),c.Nb(1,"div",13),c.pc(2),c.Mb(),c.Nb(3,"div",14),c.Nb(4,"a",15),c.Ub("click",(function(){c.ic(t);const o=e.$implicit;return c.Wb(2).selectPromo(o.id)})),c.pc(5,"Elegir"),c.Mb(),c.Mb(),c.Mb()}if(2&t){const t=e.$implicit,o=c.Wb(2);c.ec("ngClass","row  ",o.odd?"odd":"even",""),c.xb(2),c.sc(" ",t.product_id[1]," (",t.product_qty,") ")}}function p(t,e){if(1&t&&(c.Nb(0,"div",8),c.Nb(1,"div",2),c.Nb(2,"div",9),c.Nb(3,"strong"),c.pc(4," \xa1Tenes Promos> dis\u1e55onibles con tu pedido!"),c.Mb(),c.Mb(),c.Mb(),c.Nb(5,"div",10),c.oc(6,l,6,3,"div",11),c.Mb(),c.Mb()),2&t){const t=c.Wb();c.xb(6),c.cc("ngForOf",t.promos)}}function u(t,e){if(1&t){const t=c.Ob();c.Nb(0,"div",12),c.Nb(1,"div",13),c.pc(2),c.Mb(),c.Nb(3,"div",14),c.pc(4),c.Xb(5,"currency"),c.Mb(),c.Nb(6,"div",15),c.Nb(7,"a",16),c.Ub("click",(function(){c.ic(t);const o=e.$implicit;return c.Wb(2).selectCarrier(o)})),c.pc(8,"Elegir"),c.Mb(),c.Mb(),c.Mb()}if(2&t){const t=e.$implicit;c.ec("ngClass","row  ",e.odd?"odd":"even"," pt-1 pb-1"),c.xb(2),c.rc(" ",t.display_name," "),c.xb(2),c.rc(" ",c.Yb(5,3,t.amount)," ")}}function f(t,e){if(1&t&&(c.Nb(0,"div",8),c.Nb(1,"div",2),c.Nb(2,"div",9),c.Nb(3,"strong"),c.pc(4,"Eleg\xed como recibir tu producto."),c.Mb(),c.Mb(),c.Mb(),c.Nb(5,"div",10),c.oc(6,u,9,5,"div",11),c.Mb(),c.Mb()),2&t){const t=c.Wb();c.xb(6),c.cc("ngForOf",t.carriers)}}function m(t,e){if(1&t&&(c.Nb(0,"div",13),c.Nb(1,"div",14),c.pc(2),c.Mb(),c.Nb(3,"div",15),c.pc(4),c.Mb(),c.Nb(5,"div",16),c.pc(6),c.Xb(7,"currency"),c.Mb(),c.Mb()),2&t){const t=e.$implicit;c.ec("ngClass","row  ",e.odd?"odd":"even",""),c.xb(2),c.rc(" ",t.product_uom_qty," "),c.xb(2),c.rc(" ",t.name," "),c.xb(2),c.rc(" ",c.Yb(7,4,t.price_total)," ")}}function g(t,e){if(1&t&&(c.Nb(0,"div"),c.oc(1,m,8,6,"div",12),c.Mb()),2&t){const t=c.Wb(2);c.xb(1),c.cc("ngForOf",t.orderLines)}}function v(t,e){if(1&t&&(c.Nb(0,"div",9),c.Nb(1,"div",2),c.Nb(2,"div",7),c.Nb(3,"strong"),c.pc(4),c.Mb(),c.Mb(),c.Mb(),c.Nb(5,"div",2),c.Nb(6,"div",10),c.pc(7),c.Xb(8,"date"),c.Mb(),c.Nb(9,"div",10),c.pc(10),c.Xb(11,"currency"),c.Mb(),c.Mb(),c.oc(12,g,2,1,"div",11),c.Mb()),2&t){const t=c.Wb();c.xb(4),c.rc("Tu orden de pedido tiene el numero ",t.order.display_name,""),c.xb(3),c.rc(" Fecha: ",c.Zb(8,4,t.order.date_order,"dd/MM/yyyy")," "),c.xb(3),c.rc(" Total ",c.Yb(11,7,t.order.amount_total)," "),c.xb(2),c.cc("ngIf",t.orderLines)}}const h=[{path:"",component:n},{path:"summary",component:(()=>{class t{constructor(t,e){this.saleOrderService=t,this.router=e,this.order=null,this.total=0,this.lines=[],this.order=JSON.parse(localStorage.getItem("tmpOrder")),this.order.forEach(t=>{t.productsSelected.forEach(t=>{this.lines.push({id:t.id,qty:t.qty_select}),this.total+=t.qty_select*t.user_price})})}ngOnInit(){}saveOrder(){this.saleOrderService.createSaleOrder(this.lines).then(t=>{if(console.log(t),t){let e=t[0].id;this.router.navigate(t[0].show_promos?["/orders/promos/"+e]:["/orders/delivery/"+e]),localStorage.removeItem("tmpOrder")}}).catch(t=>{console.log(t)})}}return t.\u0275fac=function(e){return new(e||t)(c.Ib(s.a),c.Ib(i.c))},t.\u0275cmp=c.Cb({type:t,selectors:[["app-order-sumary"]],decls:19,vars:4,consts:[[1,"fill","container-main"],[1,"container","pt-1","text-center"],[1,"row"],[1,"col-9","mx-auto"],[1,"product-title","m-2","text-uppercase","text-white"],["class","summary",4,"ngIf"],[1,"row","order-total","mx-auto","w-100"],[1,"col-6"],[1,"col-6","text-right"],[1,"row","order-actions","mx-auto","w-100"],[1,"col-6","text-left"],["routerLink","/products",1,"btn","btn-wkn","btn-sm","text-uppercase","pull-left"],[1,"btn","btn-wkn","btn-sm","text-uppercase","pull-right",3,"click"],[1,"summary"],[1,"col-2","text-center"],[1,"col-6","text-center"],[1,"col-4","text-center"],["class","",4,"ngFor","ngForOf"],[1,""],[3,"ngClass",4,"ngFor","ngForOf"],[3,"ngClass"],[1,"col-2","text-right"],[1,"col-4","text-right"]],template:function(t,e){1&t&&(c.Nb(0,"div",0),c.Nb(1,"div",1),c.Nb(2,"div",2),c.Nb(3,"div",3),c.Nb(4,"h5",4),c.pc(5,"Resumen del pedido"),c.Mb(),c.Mb(),c.Mb(),c.oc(6,a,9,1,"div",5),c.Mb(),c.Mb(),c.Nb(7,"div",6),c.Jb(8,"div",7),c.Nb(9,"div",8),c.pc(10),c.Xb(11,"currency"),c.Mb(),c.Mb(),c.Nb(12,"div",9),c.Nb(13,"div",10),c.Nb(14,"a",11),c.pc(15," volver"),c.Mb(),c.Mb(),c.Nb(16,"div",8),c.Nb(17,"a",12),c.Ub("click",(function(){return e.saveOrder()})),c.pc(18,"siguiente"),c.Mb(),c.Mb(),c.Mb()),2&t&&(c.xb(6),c.cc("ngIf",e.order),c.xb(4),c.rc(" Total : ",c.Yb(11,2,e.total)," "))},directives:[r.l,i.d,r.k,r.j],pipes:[r.c],styles:[".order-actions[_ngcontent-%COMP%]{position:fixed;bottom:65px}.order-total[_ngcontent-%COMP%]{position:fixed;bottom:95px}.container-main[_ngcontent-%COMP%]{background-color:#ffd3f2!important}.btn-product[_ngcontent-%COMP%]{background-color:#ff5dbc;color:#fff}.product-title[_ngcontent-%COMP%]{background-color:#ff5dbc;font-family:AronGrotesque-Regular;font-size:1.25em;border-radius:5px}.summary[_ngcontent-%COMP%]{padding:5px;background-color:#ff99d6;border-radius:15px;margin-bottom:60px;color:#fff;bottom:0;left:0;right:0;font-size:.9em}.odd[_ngcontent-%COMP%]{color:#eee}"]}),t})()},{path:"promos/:id",component:(()=>{class t{constructor(t,e,o){this.actRoute=t,this.saleOrderService=e,this.router=o,this.promos=[]}ngOnInit(){this.orderId=Number(this.actRoute.snapshot.paramMap.get("id")),this.loadPromos(this.orderId)}loadPromos(t){this.saleOrderService.getPromos(t).then(t=>{0==t.length&&this.router.navigate(["/orders/delivery/"+this.orderId]),this.promos=t}).catch(t=>{console.log("errors"+t)})}selectPromo(t){this.saleOrderService.selectPromo(t).then(t=>{0==t.length&&this.router.navigate(["/orders/delivery/"+this.orderId]),this.promos=t,console.log(this.promos)}).catch(t=>{console.log("errors"+t)})}}return t.\u0275fac=function(e){return new(e||t)(c.Ib(i.a),c.Ib(s.a),c.Ib(i.c))},t.\u0275cmp=c.Cb({type:t,selectors:[["app-order-promos"]],decls:10,vars:1,consts:[[1,"fill","container-main"],[1,"container","pt-1","text-center"],[1,"row"],[1,"col-9","mx-auto"],[1,"product-title","m-2","text-uppercase","text-white"],["class","summary",4,"ngIf"],[1,"col-6"],[1,"row","order-actions","mx-auto","w-100"],[1,"summary"],[1,"col-12","text-center"],[1,""],[3,"ngClass",4,"ngFor","ngForOf"],[3,"ngClass"],[1,"col-8","text-left"],[1,"col-4","text-center"],[1,"btn","btn-wkn","btn-sm","text-uppercase","pull-right",3,"click"]],template:function(t,e){1&t&&(c.Nb(0,"div",0),c.Nb(1,"div",1),c.Nb(2,"div",2),c.Nb(3,"div",3),c.Nb(4,"h5",4),c.pc(5,"Promociones"),c.Mb(),c.Mb(),c.Mb(),c.oc(6,p,7,1,"div",5),c.Mb(),c.Nb(7,"div",2),c.Jb(8,"div",6),c.Mb(),c.Jb(9,"div",7),c.Mb()),2&t&&(c.xb(6),c.cc("ngIf",e.promos))},directives:[r.l,r.k,r.j],styles:[".order-actions[_ngcontent-%COMP%]{position:fixed;bottom:65px}.container-main[_ngcontent-%COMP%]{background-color:#ffd3f2!important}.btn-product[_ngcontent-%COMP%]{background-color:#ff5dbc;color:#fff}.product-title[_ngcontent-%COMP%]{background-color:#ff5dbc;font-family:AronGrotesque-Regular;font-size:1.25em;border-radius:5px}.summary[_ngcontent-%COMP%]{padding:5px;background-color:#ff99d6;border-radius:15px;margin-bottom:60px;color:#fff;bottom:0;left:0;right:0;font-size:.9em}.odd[_ngcontent-%COMP%]{color:#eee}"]}),t})()},{path:"delivery/:id",component:(()=>{class t{constructor(t,e,o){this.actRoute=t,this.saleOrderService=e,this.router=o,this.carriers=[]}ngOnInit(){this.orderId=Number(this.actRoute.snapshot.paramMap.get("id")),this.getCarriers(this.orderId)}getCarriers(t){this.saleOrderService.getCarriers(t).then(t=>{console.log(t),this.carriers=t}).catch(t=>{console.log("errors"+t)})}selectCarrier(t){this.saleOrderService.deliveryConfirm(this.orderId,t.id,t.amount).then(t=>{this.router.navigate(["/orders/confirm/"+this.orderId])}).catch(t=>{console.log("errors"+t)})}}return t.\u0275fac=function(e){return new(e||t)(c.Ib(i.a),c.Ib(s.a),c.Ib(i.c))},t.\u0275cmp=c.Cb({type:t,selectors:[["app-order-delivery"]],decls:10,vars:1,consts:[[1,"fill","container-main"],[1,"container","pt-1","text-center"],[1,"row"],[1,"col-9","mx-auto"],[1,"product-title","m-2","text-uppercase","text-white"],["class","summary",4,"ngIf"],[1,"col-6"],[1,"row","order-actions","mx-auto","w-100"],[1,"summary"],[1,"col-12","text-center"],[1,""],[3,"ngClass",4,"ngFor","ngForOf"],[3,"ngClass"],[1,"col-6","text-left"],[1,"col-2","text-right"],[1,"col-4","text-center"],[1,"btn","btn-wkn","btn-sm","text-uppercase","pull-right",3,"click"]],template:function(t,e){1&t&&(c.Nb(0,"div",0),c.Nb(1,"div",1),c.Nb(2,"div",2),c.Nb(3,"div",3),c.Nb(4,"h5",4),c.pc(5,"Envio"),c.Mb(),c.Mb(),c.Mb(),c.oc(6,f,7,1,"div",5),c.Mb(),c.Nb(7,"div",2),c.Jb(8,"div",6),c.Mb(),c.Jb(9,"div",7),c.Mb()),2&t&&(c.xb(6),c.cc("ngIf",e.carriers))},directives:[r.l,r.k,r.j],pipes:[r.c],styles:[".order-actions[_ngcontent-%COMP%]{position:fixed;bottom:65px}.container-main[_ngcontent-%COMP%]{background-color:#ffd3f2!important}.btn-product[_ngcontent-%COMP%]{background-color:#ff5dbc;color:#fff}.product-title[_ngcontent-%COMP%]{background-color:#ff5dbc;font-family:AronGrotesque-Regular;font-size:1.25em;border-radius:5px}.summary[_ngcontent-%COMP%]{padding:5px;background-color:#ff99d6;border-radius:15px;margin-bottom:60px;color:#fff;bottom:0;left:0;right:0;font-size:.9em}.odd[_ngcontent-%COMP%]{color:#eee}"]}),t})()},{path:"confirm/:id",component:(()=>{class t{constructor(t,e,o){this.actRoute=t,this.saleOrderService=e,this.router=o}ngOnInit(){this.orderId=Number(this.actRoute.snapshot.paramMap.get("id")),this.getOrder(this.orderId)}getOrder(t){this.saleOrderService.getOrder(t).then(t=>{this.order=t[0]}).catch(t=>{console.log("errors"+t)}),this.saleOrderService.getOrderLines(t).then(t=>{this.orderLines=t.records}).catch(t=>{console.log("errors"+t)})}}return t.\u0275fac=function(e){return new(e||t)(c.Ib(i.a),c.Ib(s.a),c.Ib(i.c))},t.\u0275cmp=c.Cb({type:t,selectors:[["app-order-confirm"]],decls:11,vars:1,consts:[[1,"fill","container-main"],[1,"container","pt-1","text-center"],[1,"row"],[1,"col-9","mx-auto"],[1,"product-title","m-2","text-uppercase","text-white"],["class","summary",4,"ngIf"],[1,"row","order-actions","mx-auto","w-100"],[1,"col-12","text-center"],["routerLink","",1,"btn","btn-wkn","btn-sm","text-uppercase","pull-left"],[1,"summary"],[1,"col-6"],[4,"ngIf"],[3,"ngClass",4,"ngFor","ngForOf"],[3,"ngClass"],[1,"col-2","text-right"],[1,"col-6","text-left"],[1,"col-4","text-right"]],template:function(t,e){1&t&&(c.Nb(0,"div",0),c.Nb(1,"div",1),c.Nb(2,"div",2),c.Nb(3,"div",3),c.Nb(4,"h5",4),c.pc(5,"Orden finalizada"),c.Mb(),c.Mb(),c.Mb(),c.oc(6,v,13,9,"div",5),c.Nb(7,"div",6),c.Nb(8,"div",7),c.Nb(9,"a",8),c.pc(10," Cerrar"),c.Mb(),c.Mb(),c.Mb(),c.Mb(),c.Mb()),2&t&&(c.xb(6),c.cc("ngIf",e.order))},directives:[r.l,i.d,r.k,r.j],pipes:[r.e,r.c],styles:[".order-actions[_ngcontent-%COMP%]{position:fixed;bottom:65px}.container-main[_ngcontent-%COMP%]{background-color:#ffd3f2!important}.btn-product[_ngcontent-%COMP%]{background-color:#ff5dbc;color:#fff}.product-title[_ngcontent-%COMP%]{background-color:#ff5dbc;font-family:AronGrotesque-Regular;font-size:1.25em;border-radius:5px}.summary[_ngcontent-%COMP%]{padding:5px;background-color:#ff99d6;border-radius:15px;margin-bottom:60px;color:#fff;bottom:0;left:0;right:0;font-size:.9em}.odd[_ngcontent-%COMP%]{color:#eee}"]}),t})()}];let M=(()=>{class t{}return t.\u0275mod=c.Gb({type:t}),t.\u0275inj=c.Fb({factory:function(e){return new(e||t)},imports:[[r.b,i.e.forChild(h)]]}),t})()}}]);